<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- Tree View -->
		<record id="sale_price_change_history_tree" model="ir.ui.view">
			<field name="name">sale_price_change_history_tree_view</field>
			<field name="model">product.sale.history.line</field>
			<field name="arch" type="xml">
				<tree string="Product Sale Price History">
                    <field name="product_id"/>
                    <field name="list_price"/>
                    <field name="new_price"/>
					<field name="currency_id"/>
					<!--<field name="terms_setup_id"/>-->
					<!--<field name="freight_mode"/>-->
					<field name="approve_price_date"/>
					<!--<field name="country_id"/>-->
				</tree>
			</field>
		</record>

		<!-- Form View -->
		<record id="sale_price_change_history_form_view" model="ir.ui.view">
			<field name="name">sale_price_change_history_form_view</field>
			<field name="model">product.sale.history.line</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Change Products Sale Price" create="false" edit="false">
					<sheet>
						<group>
							<field name="product_id"/>
							<field name="list_price"/>
							<field name="new_price"/>
							<field name="currency_id"/>
							<field name="uom_id"/>
							<field name="discount"/>
							<field name="product_package_mode"/>
							<!--<field name="country_id"/>-->
							<!--<field name="terms_setup_id"/>-->
							<!--<field name="freight_mode"/>-->
							<field name="approve_price_date"/>
							<field name="category_id" invisible="1"/>
						</group>
	                </sheet>
				</form>
			</field>
		</record>

		<!--Default group by on product_id-->
		<record id="view_product_price_history_search" model="ir.ui.view">
            <field name="name">view_product_price_history_search_view</field>
            <field name="model">product.sale.history.line</field>
            <field name="arch" type="xml">
                <search string="Search Products">
                    <group expand="0" string="Group By">
                        <filter string="Product" name = "group_product_id" context="{'group_by':'product_id'}"/>
						<filter string="Currency" name = "group_currency_id" context="{'group_by':'currency_id'}"/>
                    </group>
                </search>
            </field>
        </record>

		<record id="action_product_sale_price_change_history" model="ir.actions.act_window">
			<field name="name">Single Product Price</field>
			<field name="res_model">product.sale.history.line</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'search_default_group_product_id': 1}</field>
			<field name="view_id" ref="sale_price_change_history_tree"/>
		</record>

    </data>
</odoo>