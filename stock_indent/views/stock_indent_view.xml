<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

		<!-- Indent Tree View -->
		<record id='view_indent_indent_tree' model='ir.ui.view'>
			<field name="name">indent.indent.tree</field>
			<field name="model">indent.indent</field>
			<field name="arch" type="xml">
				<tree string="Indents"
					colors="gray:state=='received';green:state=='waiting_approval';">
					<field name="name" />
					<field name="indentor_id" />
					<!--<field name="department_id" />-->
					<!-- <field name="analytic_account_id" />
					<field name="amount_total" /> -->
					<field name="indent_date" />
					<field name="required_date" />
					<field name="approve_date" />
					<field name="state" />
				</tree>
			</field>
		</record>

		<!-- Indent Form View -->
		<record id='view_stock_indent_indent_form' model='ir.ui.view'>
			<field name="name">indent.indent.form</field>
			<field name="model">indent.indent</field>
			<field name="arch" type="xml">
				<form string="Indents">
					<header>
						<button name="indent_confirm" string="Confirm" states="draft"
							class="oe_highlight" type="object"/>
						<button name="approve_indent" string="Approve" states="waiting_approval" type="object"
							class="oe_highlight" groups="stock_indent.group_stock_indent_approver"/>
						<button name="reject_indent" string="Reject" states="waiting_approval"
							groups="stock_indent.group_stock_indent_approver" type="object"/>
						<button name="action_view_picking" string="Issue Product(s)" type="object"
							states="inprogress" class="oe_highlight" groups="stock_indent.group_stock_indent_issuer"/>
						<field name="state" widget="statusbar"
							statusbar_visible="draft,waiting_approval,inprogress,received"
							statusbar_colors='{"reject":"red"}' />
					</header>
					<sheet>

						<group>
							<group>
								<field name="indentor_id" readonly="1" />
								<field name="requirement"
									on_change="onchange_requirement(indent_date, requirement)" />
								<!--<field name="department_id"-->
								<!--options="{&quot;no_open&quot;: True}"-->
									<!--domain="[('location_id', '!=',False),-->
											<!--('usage', '!=', 'view'),-->
											<!--('can_request','=',True)]" />-->

							</group>
							<group>
								<field name="indent_date" />
								<field name="required_date" />
								<field name="approve_date" invisible="1"/>
								<field name="company_id" readonly="1" groups="base.group_multi_company" />
							</group>
							<group></group>
							<group>

								<!-- <field name="type" /> -->
								<!--<field name="picking_type_id" options="{&quot;no_open&quot;: True}"/>-->

							</group>
						</group>
						<notebook>
							<page string="Products">
								<field name="product_lines">
									<!--<form string="Products" version="7.0">-->
										<!--<group>-->
											<!--<group>-->
												<!--<field name="product_id" groups="base.group_user" />-->
												<!--<label for="product_uom_qty" />-->
												<!--<div>-->
													<!--<field name="product_uom_qty" class="oe_inline" />-->
													<!--<field name="product_uom" groups="product.group_uom"-->
														<!--class="oe_inline oe_no_button"-->
														 <!--/>-->
												<!--</div>-->
												<!--<field name="price_unit" />-->
											<!--</group>-->
											<!--<group>-->
												<!--&lt;!&ndash; <field name="type" /> &ndash;&gt;-->
												<!--<field name="qty_available"-->
													 <!--/>-->
												<!--<field name="virtual_available"-->
													 <!--/>-->
												<!--<field name="delay" />-->
											<!--</group>-->
										<!--</group>-->
										<!--<label for="name" />-->
										<!--<field name="name" />-->
										<!--<label for="specification" />-->
										<!--<field name="specification" />-->
									<!--</form>-->
                                    <tree string="Products" editable="bottom">
                                        <field name="sequence" widget="handle"/>
                                        <field name="product_id"/>
										<field name="name"/>
										<field name="qty_available"/>
                                        <field name="product_uom_qty" sum="Total Qty"/>
                                        <field name="product_uom" string="UOM" groups="product.group_uom"/>
                                        <field name="price_unit" sum="Total Price"/>
                                        <field name="price_subtotal" sum="Total Price"/>
                                    </tree>
								</field>
								<group class="oe_subtotal_footer oe_right">
									<field name="amount_total" widget="monetary"
										class="oe_subtotal_footer_separator" options="{'currency_field': 'currency_id'}" />
								</group>
								<div class="oe_clear">
									<label for="description" />
								</div>
								<field name="description" class="oe_inline" placeholder="Additional note..." />
							</page>

							<page string="Others">
								<group>
									<group>
										<field name="move_type" />
										<field name="warehouse_id" />
									</group>
									<group>
										<!--<field name="manager_id" readonly="1" />-->
										<field name="approver_id" readonly="1" />
									</group>
								</group>
							</page>
						</notebook>

					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>

		<!-- Indent Window Action -->
		<record id='action_indent_indent' model='ir.actions.act_window'>
			<field name="name">Indents</field>
			<field name="res_model">indent.indent</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					Click to create a new indent.
				</p>
			</field>
		</record>
		
		<!-- Indent Menu -->
		<menuitem name="Indents" parent="stock.menu_stock_root" id="menu_indent_indent_main"
			sequence="3" groups="stock.group_stock_user"/>
			
		<menuitem action="action_indent_indent" name="Indents"
			parent="menu_indent_indent_main" id="menu_indent_indent" sequence="1"
			groups="stock.group_stock_user"/>

    </data>
</odoo>