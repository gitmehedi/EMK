<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <record id="vat_rule_tree_view_extended" model="ir.ui.view">
            <field name="name">vat.rule.tree.view.extended</field>
            <field name="model">account.tax</field>
            <field name="arch" type="xml">
                <tree string="Account Tax">
                    <field name="sequence" widget="handle"/>
                    <field name="name"/>
                    <field name="amount_type"/>
                    <field name="amount" string="Amount (%)"/>
                    <field name="mushok_amount" string="Mushok Amount (%)"/>
                    <field name="vds_amount" string="VDS Amount (%)"/>
                    <field name="price_exclude"/>
                    <field name="price_include"/>
                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                </tree>
            </field>
        </record>
        <record id="action_vat_rule" model="ir.actions.act_window">
            <field name="name">VAT Rule</field>
            <field name="res_model">account.tax</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('is_vat','=',True)]</field>
            <field name="context">{'search_default_sale': True, 'search_default_purchase': True, 'default_is_vat': True}</field>
            <field name="view_id" ref="account.view_tax_tree"/>
        </record>

        <record id="vat_rule_action_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="vat_rule_tree_view_extended"/>
            <field name="act_window_id" ref="action_vat_rule"/>
        </record>

        <record id="vat_rule_action_form" model="ir.actions.act_window.view">
            <field name="sequence" eval="3"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="account.view_tax_form"/>
            <field name="act_window_id" ref="action_vat_rule"/>
        </record>

        <record id="action_tds_rule" model="ir.actions.act_window">
            <field name="name">TDS Rule</field>
            <field name="res_model">account.tax</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('is_tds','=',True)]</field>
            <field name="context">{'search_default_sale': True, 'search_default_purchase': True, 'default_is_tds':
                True}
            </field>
            <field name="view_id" ref="account.view_tax_tree"/>
        </record>

        <!-- Accounting Sub-Menu -->
        <menuitem action="account.action_tax_form" id="account.menu_action_tax_form"
                  parent="account.account_account_menu"
                  groups="base.group_no_one" sequence="1"/>
        <!--        <menuitem id="account.menu_action_tax_form" invisible="1"/>-->
        <menuitem id="menu_taxes" name="VAT and TDS" parent="account.account_account_menu" sequence="2"/>
        <!-- Taxes Sub-Menu -->
        <menuitem id="menu_vat_rule" action="action_vat_rule" name="VAT Rule" parent="menu_taxes"
                  groups="account.group_account_manager" sequence="1"/>
        <menuitem id="menu_tds_rule" action="action_tds_rule" name="TDS Rule" parent="menu_taxes"
                  groups="account.group_account_manager" sequence="2"/>
    </data>
</odoo>