<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data>
        <report
                id="action_proforma_invoice"
                string="Proforma Invoice"
                model="proforma.invoice"
                report_type="qweb-pdf"
                file="gbs_pi_creation.report_proforma_invoice"
                name="gbs_pi_creation.report_proforma_invoice"
                paperformat="custom_report.custom_pad_paperformat"

        />

        <template id="report_proforma_invoice">
            <t t-call="report.html_container">
                <t t-call="custom_report.gbs_custom_pad_report_template">
                    <div class="page" style="page-break-inside: auto">
                        <style>
                            .auth-signature { padding: 5px 0; border-top: 1px dashed #333; float: left; }
                        </style>
                        <div class="clearfix">
                            <h3 class="text-center">Proforma Invoice</h3>
                            <hr class="hr-sm mb-0"/>
                            <div class="row">
                                <div class="col-xs-6">
                                    <p><b><u>Beneficiary:</u></b></p>
                                    <p><strong t-esc="data['beneficiary_id']"/> <br/>
                                        Factory: <span t-esc="data['unit_address']"/></p>
                                    <p><b>Vat Registration No:</b>
                                        <span t-esc="data['vat']"/></p>
                                </div>
                                <div class="col-xs-6 text-left">
                                    <p><b>Proforma Invoice No &amp; Date : </b></p>
                                    <P><span t-esc="data['name']"/></P>
                                    <P><span t-esc="data['pi_date']"/></P>
                                </div>
                            </div>
                            <hr class="hr-sm mb-0"/>
                            <div class="row">
                                <div class="col-xs-6">
                                    <p><b><u>Applicant:</u></b></p>
                                    <p><strong t-esc="data['customer']"/> <br/>
                                        Factory: <span t-esc="data['customer_add']" /></p>
                                </div>
                                <div class="col-xs-6 text-left">
                                    <p><b>Transport : </b><span t-esc="data['transport_by']"/></p>
                                    <p><b>Place of Loading : </b>From Factory Premises of Beneficiary.</p>
                                    <p><b>Final Destination : </b>Applicant's Factory.</p>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix">
                            <hr class="hr-sm mb-0"/>
                            <h5 class="text-center"><u>Description of Goods</u></h5>
                            <table class="table table-report table-bordered table-striped">
                                <thead>
                                    <tr class="odo-bg-gray">
                                        <th>Sl#</th>
                                        <th>Description of Goods</th>
                                        <th>HS Code</th>
                                        <th>Quantity</th>
                                        <th>Unit</th>
                                        <th>Rate</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="line_list" t-as="l">
                                        <tr style="page-break-inside: avoid">
                                            <td><span t-esc="l_index+1"/></td>
                                            <td><span t-esc="l['product_id']"/></td>
                                            <td>Dame</td>
                                            <td><span t-esc="l['uom']"/></td>
                                            <td><span t-esc="l['quantity']"/></td>
                                            <td><span t-esc="'%.2f'% l['price_unit']"/></td>
                                            <td><span t-esc="'%.2f'% l['price_subtotal']"/></td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td colspan="6" rowspan="2"><strong>Amount in words : </strong> <span t-esc="data['currency']"/> <span t-esc="amt_to_word"/></td>
                                        <td><strong>Total : </strong><span t-esc="'%.2f'% total_amount"/></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="clearfix">
                            <div class="row">
                                <div class="col-xs-6">
                                    <p><b>Advising Bank : </b><span t-esc="data['advising_bank']"/></p>
                                    <p><b>Bank Address : </b><span t-esc="data['customer_add']"/></p>
                                </div>
                                <div class="col-xs-6 text-left">
                                    <p><b>Packing : </b><span t-esc="data['packing']"/></p>
                                    <p><b>Terms of Payment : </b><span t-esc="data['terms_of_payment']"/></p>
                                </div>
                            </div>
                            <hr class="hr-sm mb-0"/>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">
                                <p><b>Terms and Conditions:</b></p>
                                <p t-raw="data['terms_condition']"/>
                            </div>
                        </div>
                        <div>
                            <p>For and on behalf of <br/>
                                <span t-esc="data['beneficiary_id']"/>
                            </p>
                            <br/>
                            <br/>
                            <br/>
                            <br/>
                            <p class="auth-signature">Authorized Signature</p>
                        </div>
                    </div>
                </t>
            </t>
        </template>
    </data>
</odoo>