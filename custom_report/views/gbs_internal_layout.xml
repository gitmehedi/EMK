<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="custom_report_gbs_internal" name="report assets" inherit_id="web.layout">
        <xpath expr="//head" position="inside">
            <link href="/custom_report/static/src/css/report.css" rel="stylesheet"/>
        </xpath>
    </template>

    <template id="gbs_internal_layout">
        <t t-if="not o and doc">
        <t t-set="o" t-value="doc"/>
        </t>
        <t t-if="o and 'company_id' in o">
            <t t-set="company" t-value="o.company_id"></t>
        </t>
        <t t-if="not o or not 'company_id' in o">
            <t t-set="company" t-value="res_company"></t>
        </t>

        <t t-call="custom_report.gbs_internal_layout_header" />
        <t t-raw="0" />
        <t t-call="custom_report.gbs_internal_layout_footer" />
    </template>

    <template id="gbs_internal_layout_header">
        <div class="header">
                <style type="text/css">
                    .header-content { position: relative; padding:10px; }
                    .company-info { text-align:center; padding:0 250px; }
                    .company-logo { position: absolute; top: 35%; transform: translateY(-35%); }
                    .com-logo-img { max-height:120px; max-width: 160px }
                </style>
                <div class="header-content">
                    <div class="company-logo">
                        <img class="com-logo-img" t-if="company.logo" t-att-src="'data:image/png;base64,%s' % company.logo" />
                    </div>

                    <div class="company-info">
                       <h3 t-field="company.partner_id"
                                 t-field-options='{"widget": "contact", "fields": ["name"], "no_marker": true}'/>
                    </div>
                </div>
            </div>
    </template>



    <template id="gbs_internal_layout_footer">
        <div class="footer">
            <div class="text-left"
                 style="border-top: 1px solid #6E6E6E; padding-top: 2px; font-size: 10px; color: ash;">

                <div t-if="not company.custom_footer" class="pull-left">
                    <ul t-if="not company.custom_footer" style="list-style:none;">
                        <t t-set="company" t-value="company.sudo()"/>
                        <li t-if="company.phone">Phone:
                            <span t-field="company.phone"/>
                        </li>

                        <li t-if="company.fax and company.phone">&amp;bull;</li>
                        <li t-if="company.fax">Fax:
                            <span t-field="company.fax"/>
                        </li>

                        <li t-if="company.email">Email:
                            <span t-field="company.email"/>
                        </li>

                        <li>Print Time:
                            <span t-esc="context_timestamp(datetime.datetime.now()).strftime('%Y-%m-%d %H:%M:%S')"/>
                        </li>
                    </ul>
                </div>

                <t t-if="company.custom_footer">
                    <span t-raw="company.rml_footer"/>
                </t>
                <div class="pull-right">
                    <ul class="list-inline">
                        <li>Page:</li>
                        <li>
                            <span class="page"/>
                        </li>
                        <li>/</li>
                        <li>
                            <span class="topage"/>
                        </li>
                    </ul>
                </div>

            </div>
        </div>
    </template>
</odoo>
