<?xml version="1.0" encoding="utf-8"?>
<odoo>
	
	<data>
		<record id="rostaring_shift_form" model="ir.ui.view">
	        <field name="name">rostering.shift.from</field>
	        <field name="model">resource.calendar</field>
	        <field name="inherit_id" ref="resource.resource_calendar_form" />
	        <field name="arch" type="xml">
				<xpath expr="//sheet" position="before">
					<header>
                        <button name="action_confirm" type="object"
                                string="Apply" states="draft"
                                class="oe_highlight"/>
                        <button name="action_done" type="object"
                                string="Approve" states="applied" groups="hr.group_hr_manager,hr.group_hr_user"
                                class="oe_highlight"/>
                        <button name="action_draft" type="object"
                                string="Reject" groups="hr.group_hr_manager"
                                states="applied"/>
						<button string="Reset to Draft"
								name="action_reset" states="applied,approved" type="object"/>
                        <field name="state" widget="statusbar"/>
                    </header>
				</xpath>
	            <field name="leave_ids" position="replace"/>
				<xpath expr="//field[@name='company_id']" position="after">
					<field name="operating_unit_id" options='{"no_open": True,"no_create": 1, "no_create_edit":1}' attrs="{'readonly':[('state','!=','draft')]}"/>
				</xpath>
				<xpath expr="//field[@name='attendance_ids']" position="after">
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"/>
						<field name="message_ids" widget="mail_thread"/>
                	</div>
				</xpath>

	        </field>
	    </record>
		<record id="rostaring_shift_tree" model="ir.ui.view">
	        <field name="name">rostering.shift.tree</field>
	        <field name="model">resource.calendar</field>
	        <field name="inherit_id" ref="resource.view_resource_calendar_tree" />
	        <field name="arch" type="xml">
				<xpath expr="//field[@name='company_id']" position="after">
					<field name="state"/>
					<field name="operating_unit_id" options='{"no_open": True,"no_create": 1, "no_create_edit":1}'/>
				</xpath>
	        </field>
	    </record>
	    	
	    <record id="view_rostering_shift_line_tree" model="ir.ui.view">
	        <field name="name">rostering.shift_line.tree</field>
	        <field name="model">resource.calendar.attendance</field>
	        <field name="inherit_id" ref="resource.view_resource_calendar_attendance_tree" />
	        <field eval="2" name="priority"/>
	        <field name="arch" type="xml">
	            <field name="hour_to" position="after">
	                <field name="isIncludedOt" />
	            </field>
	            <field name="date_from" position="replace">
		           <field name="ot_hour_from" widget="float_time"/>
		        </field>
		        <field name="date_to" position="replace">
		           <field name="ot_hour_to" widget="float_time"/>
		        </field>
				<field name="ot_hour_to" position="after">
	                <field name="grace_time" widget="float_time"/>
	            </field>
	        </field>
	    </record>
	        
	   <record id="hr_shift_conf" model="ir.actions.act_window">
		<field name="name">Shifting</field>
		<field name="res_model">resource.calendar</field>
		<field name="view_mode">tree,form</field>
	   </record>

	<menuitem id="main_menu_hr_shifting" name="Rostering"
		  parent="hr_attendance.menu_hr_attendance_root"
		  sequence="29" groups="hr.group_hr_user"/>

   <menuitem id="menu_hr_shifting" name="Shifting"
		parent="main_menu_hr_shifting" sequence="1"
			action="hr_shift_conf" groups="hr.group_hr_user"/>
			
			
   
	</data>					
</odoo>
