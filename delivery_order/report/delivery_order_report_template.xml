<?xml version="1.0" encoding="utf-8"?>
<!--Custom report.-->
<odoo>
    <data>
        <template id="report_delivery_order_doc">
            <t t-call="report.html_container">
                 <t t-call="report_layout.gbs_internal_layout">
                    <t t-foreach="docs" t-as="o">
                        <div class="page" style="page-break-inside: auto">
                            <div class="row">
                                <style type="text/css">
                                .report-title { text-align:center; }
                                .odo-bg-gray, .odo-bg-gray > td { background-color: #f5f5f5; }
                                </style>
                                <div class="clearfix">
                                    <h3 class="report-title">Delivery Order Summary Report</h3>
                                    <div class="row" style="margin-top:25px;">
                                        <div class="col-xs-8 text-left">
                                            <h6><strong>Sale Order : </strong><span t-field="o.sale_order_id"/></h6>
                                        </div>
                                        <div class="col-xs-4 text-left">
                                            <h6><strong>Requested On : </strong><span t-field="o.requested_date" t-options='{"widget": "date"}'/></h6>
                                            <h6><strong>Requested By : </strong><span t-field="o.requested_by"/></h6>
                                        </div>
                                    </div>
                                    <hr/>
                                    <div class="row">
                                        <div class="col-xs-8 text-left">
                                            <h6><strong>Customer: </strong><span t-field="o.parent_id"/></h6>
                                            <h6><strong>Warehouse: </strong><span t-field="o.warehouse_id"/></h6>
                                            <h6><strong>Sales Order Date: </strong><span t-field="o.so_date" t-options='{"widget": "date"}'/></h6>
                                        </div>
                                        <div class="col-xs-4 text-left">
                                            <h6><strong>Sale Order Type : </strong><span t-field="o.so_type"/></h6>
                                            <h6><strong>Payment Terms : </strong><span t-field="o.payment_term_id"/></h6>
                                            <h6><strong>Delivery Address : </strong><span t-field="o.deli_address"/></h6>
                                        </div>
                                    </div>
                                    <hr/>
                                </div>

                                <h4><strong>Product Details</strong></h4>
                                <table class="table table-bordered table-report-xs table-striped"
                                        style="margin-bottom: 10px; table-layout: fixed;">
                                    <thead>
                                        <tr class="odo-bg-gray">
                                            <th class="text-center" style="width:4%;">SL</th>
                                            <th class="text-center">Product</th>
                                            <th class="text-center" style="width:18%;">Quantity</th>
                                            <th class="text-center" style="width:10%;">Packing</th>
                                            <th class="text-center" style="width:7%;">UoM</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-foreach="o.line_ids" t-as="l">
                                            <tr style="page-break-inside: avoid">
                                                <td class="text-center"><span t-esc="l_index+1"/></td>
                                                <td><span t-esc="l.product_id.name"/></td>
                                                <td class="text-right"><span t-esc="l.quantity"/></td>
                                                <td><span t-esc="l.pack_type.display_name"/></td>
                                                <td><span t-esc="l.uom_id.name"></span></td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>
                                <br/>
                                <t t-if="o.so_type=='cash'">
                                    <h4><strong>Cash Details</strong></h4>
                                    <table class="table table-bordered table-report-xs table-striped"
                                        style="margin-bottom: 10px; table-layout: fixed;">
                                    <thead>
                                        <tr class="odo-bg-gray">
                                            <th class="text-center" style="width:4%;">SL</th>
                                            <th class="text-center" style="width:30%;">Payment Information</th>
                                            <th class="text-center" style="width:18%;">Amount</th>
                                            <th class="text-center" style="width:10%;">Deposited Bank</th>
                                            <th class="text-center" style="width:19%;">Branch</th>
                                            <th class="text-center" style="width:10%;">Validity(Days)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <t t-foreach="o.cash_ids" t-as="l">
                                                <tr style="page-break-inside: avoid">
                                                    <td class="text-center"><span t-esc="l_index+1"/></td>
                                                    <td><span t-esc="l.account_payment_id.name"/></td>
                                                    <td class="text-right"><span t-esc="'{:,.2f}'.format(l.amount)"/></td>
                                                    <td><span t-esc="l.dep_bank"/></td>
                                                    <td><span t-esc="l.branch"/></td>
                                                    <td><span t-esc="l.validity"/></td>
                                                </tr>
                                            </t>
                                        </tbody>
                                    </table>
                                </t>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>
</odoo>