<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<!-- Buyer Work Order Form Views -->
		<record model="ir.ui.view" id="buyer_work_order_form_view">
			<field name="name">buyer_work_order_form</field>
			<field name="model">buyer.work.order</field>
			<field name="arch" type="xml">
				<form string="Buyer Work Order Form">
					<header>
						<button name="action_confirm" type="object" states="draft"
							string="Confirm" class="oe_highlight" />

						<field name="state" widget="statusbar" />
					</header>
					<sheet>
						<h1>
							<field name="name" string="Serial No" />
						</h1>
						<!-- <button icon="fa-star" class='oe_inline oe_stat_button oe_right oe_button_box'>
								<field name="total_quantity" widget="statinfo"/>
						</button> -->
						<group>
							<group>

								<field name="buyer_id"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								
								<field name="buyer_department" domain="[('buyer_ids', '=', buyer_id)]"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								<field name="style_id"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								<field name="season_id"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								<field name="year_id"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								<field name="product_template_id" domain="[('finish_goods', '=', True)]"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								<field name="shipment_mode" />
								<field name="hs_code" />
								<field name="epo_date" />
							</group>
							<group>


								<field name="currency_id"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />

								<field name="delivery_term_id"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
								<field name="tolerance" />
								<field name="production_qty" />
								<field name="delay" />
								<field name="shipment_date" />
								<field name="buyer_inspection_date" />
								<field name="inhouse_inspection_date" />
							</group>
						</group>
						<notebook colspan="4">
							<page string="Products Details">
								<field name="bwo_product_ids">
									<tree string="" editable="top">
										<field name="product_id"
											options='{"no_open": True,"no_create": 1, "no_create_edit": 1}'
											domain="[('product_tmpl_id', '=', parent.product_template_id)]" />
										<field name="qty" />
										<field name="uom_id"
											options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />
										<field name="rate" />
									</tree>
								</field>
							</page>
							<page string="Shipment Details">
								<field name="bwo_shipment_ids">
									<tree editable="top">
										<field name="name" />
										<field name="shipment_date" />
										<field name="buyer_inspection_date" />
										<field name="in_house_inspection_date" />
									</tree>
								</field>
							</page>
							<page string="Destination Details">
								<field name="bwo_destination_ids"
									options='{"no_open": True,"no_create": 1, "no_create_edit": 1}' />

							</page>
						</notebook>
						<separator string="Remarks" />
						<field name="remarks" placeholder="Put an remarks..................." />
					</sheet>
				</form>
			</field>
		</record>


		<!-- Buyer Work Order Tree or List view -->
		<record id="buyer_work_order2_tree_view" model="ir.ui.view">
			<field name="name">buyer.work.order.tree</field>
			<field name="model">buyer.work.order</field>
			<field name="arch" type="xml">
				<tree string="Buyer Work Order Tree">
					<field name="name" />
					<field name="buyer_id" />
					<field name="style_id" />
					<field name="season_id" />
					<field name="year_id" />
					<field name="currency_id" />
					<field name="buyer_department" />
					<field name="state" />
				</tree>
			</field>
		</record>

		<!-- Buyer Work Order Kanban View -->
		<record id="buyer_work_order2_kanban" model="ir.ui.view">
			<field name="name">buyer.work.order.kanban</field>
			<field name="model">buyer.work.order</field>
			<field name="arch" type="xml">
				<kanban class="oe_background_grey" create="1">
					<field name="name" />
					<field name="buyer_id" />
					<field name="style_id" />
					<field name="buyer_department" />
					<field name="color" />
					<templates>
						<t t-name="kanban-box">
							<div
								t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_card oe_kanban_stock_picking_type">
								<div class="oe_dropdown_toggle oe_dropdown_kanban" groups="">
									<span class="oe_e">Ã­</span>
									<ul class="oe_dropdown_menu">
										<!-- <t t-if="widget.view.is_action_enabled('edit')"> <li> <a type="edit">Edit...</a> 
											</li> </t> <t t-if="widget.view.is_action_enabled('delete')"> <li> <a type="delete">Delete</a> 
											</li> </t> -->
										<t t-if="widget.view.is_action_enabled('edit')">
											<li>
												<ul class="oe_kanban_colorpicker" data-field="color" />
											</li>
										</t>
									</ul>
								</div>
								<div class="oe_kanban_content">
									<h4 class="text-center">
										<strong>
											<a type="edit">
												<field name="name" string="Buyer Work Order No: " />
											</a>
										</strong>
									</h4>
									<div class="oe_items_list oe_kanban_ellipsis">
										<div>
											<a name="#" type="action">
												Buyer:
												<field name="buyer_id" />
											</a>
										</div>
										<div>
											<a name="#" type="action">
												Order Quantity:
												<field name="total_quantity" />
											</a>
										</div>
										<div>
											<a name="#" type="action">
												Shipment Date:
												<field name="shipment_date" />
											</a>
										</div>
									</div>



									<div class="oe_picking_type_gauge">
										<field name="production_ratio" widget="gauge"
											style="width:150px; height: 110px;" options="{'levelcolors': ['#a9d70b', '#f9c802', '#ff0000']}">Production (%%)
										</field>
										<field name="delay" widget="gauge" style="width:150px; height: 110px;">Delay (%%)
										</field>
										<div class="oe_gauge_labels">
											<div class="oe_gauge_label_column">
												<a name="#" type="action">
													Production:
													<field name="production_ratio" />
												</a>
											</div>
											<div class="oe_gauge_label_column">
												<a name="#" type="action">
													Delay:
													<field name="delay" />
												</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>

		<!-- Sequences for Product Styles -->
		<record id="seq_type_buyer_work_order" model="ir.sequence.type">
			<field name="name">Buyer Work Order Type</field>
			<field name="code">bwo_code</field>
		</record>

		<record id="seq_buyer_work_order" model="ir.sequence">
			<field name="name">Buyer Work Order</field>
			<field name="code">bwo_code</field>
			<field name="prefix">BWO-</field>
			<field name="padding">10</field>
		</record>


		<!-- Buyer Work Order Menu and Action -->
		<record id="buyer_work_order_list_action" model="ir.actions.act_window">
			<field name="name">Work Orders</field>
			<field name="res_model">buyer.work.order</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
		</record>

		<menuitem id="buyer_work_order_main_menu" name="Work Orders"
			parent="merchandising_menu" sequence="250" action="buyer_work_order_list_action" />
	</data>
</openerp>
