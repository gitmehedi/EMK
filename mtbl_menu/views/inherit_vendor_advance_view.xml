<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="vendor_advance_action_draft" model="ir.actions.act_window">
        <field name="name">Vendor Advances</field>
        <field name="res_model">vendor.advance</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('type','=','single'), ('state', 'in', ('draft', 'cancel'))]</field>
        <field name="context">{'default_type':'single', 'search_default_pending_va':0}</field>
        <field name="search_view_id" ref="vendor_advance.vendor_advance_search"/>
    </record>

    <record id="vendor_advance_action_draft_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_tree"/>
        <field name="act_window_id" ref="vendor_advance_action_draft"/>
    </record>

    <record id="vendor_advance_action_draft_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_form"/>
        <field name="act_window_id" ref="vendor_advance_action_draft"/>
    </record>

    <record id="vendor_advance_action_confirm" model="ir.actions.act_window">
        <field name="name">Vendor Advances</field>
        <field name="res_model">vendor.advance</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('type','=','single'), ('state', '=', 'confirm')]</field>
        <field name="context">{'default_type':'single', 'search_default_pending_va':0}</field>
        <field name="search_view_id" ref="vendor_advance.vendor_advance_search"/>
    </record>

    <record id="vendor_advance_action_confirm_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_tree"/>
        <field name="act_window_id" ref="vendor_advance_action_confirm"/>
    </record>

    <record id="vendor_advance_action_confirm_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_form"/>
        <field name="act_window_id" ref="vendor_advance_action_confirm"/>
    </record>

    <record id="vendor_advance_action_approve" model="ir.actions.act_window">
        <field name="name">Vendor Advances</field>
        <field name="res_model">vendor.advance</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('type','=','single'), ('state', '=', 'approve'), ('amount_due', '&gt;', 0)]</field>
        <field name="context">{'default_type':'single', 'search_default_pending_va':0}</field>
        <field name="search_view_id" ref="vendor_advance.vendor_advance_search"/>
    </record>

    <record id="vendor_advance_action_active_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_tree"/>
        <field name="act_window_id" ref="vendor_advance_action_approve"/>
    </record>

    <record id="vendor_advance_action_active_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_form"/>
        <field name="act_window_id" ref="vendor_advance_action_approve"/>
    </record>

    <record id="vendor_advance_action_closed" model="ir.actions.act_window">
        <field name="name">Vendor Advances</field>
        <field name="res_model">vendor.advance</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('type','=','single'), ('state', 'in', ('done', 'inactive'))]</field>
        <field name="context">{'default_type':'single', 'search_default_pending_va':0}</field>
        <field name="search_view_id" ref="vendor_advance.vendor_advance_search"/>
    </record>

    <record id="vendor_advance_action_closed_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_tree"/>
        <field name="act_window_id" ref="vendor_advance_action_closed"/>
    </record>

    <record id="vendor_advance_action_closed_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_form"/>
        <field name="act_window_id" ref="vendor_advance_action_closed"/>
    </record>

    <record id="vendor_advance_action_approve_paid" model="ir.actions.act_window">
        <field name="name">Vendor Advances</field>
        <field name="res_model">vendor.advance</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('type','=','single'), ('state', '=', 'approve'), ('amount_due', '&lt;=', 0)]</field>
        <field name="context">{'default_type':'single', 'search_default_pending_va':0}</field>
        <field name="search_view_id" ref="vendor_advance.vendor_advance_search"/>
    </record>

    <record id="vendor_advance_action_active_paid_tree" model="ir.actions.act_window.view">
        <field name="sequence" eval="1"/>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_tree"/>
        <field name="act_window_id" ref="vendor_advance_action_approve_paid"/>
    </record>

    <record id="vendor_advance_action_active_paid_form" model="ir.actions.act_window.view">
        <field name="sequence" eval="3"/>
        <field name="view_mode">form</field>
        <field name="view_id" ref="vendor_advance.vendor_advance_form"/>
        <field name="act_window_id" ref="vendor_advance_action_approve_paid"/>
    </record>

    <menuitem id="advance_parent_menu" name="Vendor Advances" sequence="7" groups="base.group_vendor_advance_user"
              parent="account.menu_finance"/>

    <menuitem id="vendor_advance.advance_menu" name="Advances (Draft)" sequence="1" groups="base.group_vendor_advance_user"
              parent="advance_parent_menu" action="vendor_advance_action_draft"/>

    <menuitem id="advance_menu_confirm" name="Advances (Approval)" sequence="2" groups="base.group_vendor_advance_user"
              parent="advance_parent_menu" action="vendor_advance_action_confirm"/>

    <menuitem id="advance_menu_approve" name="Advances (Payment)" sequence="3" groups="base.group_vendor_advance_user"
              parent="advance_parent_menu" action="vendor_advance_action_approve"/>

    <menuitem id="advance_menu_approve_paid" name="Advances (Paid)" parent="advance_parent_menu"
              action="vendor_advance_action_approve_paid"
              sequence="4" groups="base.group_vendor_advance_user"/>

    <menuitem id="advance_menu_active" name="Advances (Closed)" sequence="4" groups="base.group_vendor_advance_user"
              parent="advance_parent_menu" action="vendor_advance_action_closed"/>
</odoo>