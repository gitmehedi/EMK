<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<!-- Your Form View Definition -->
		<record id="rules_form_view" model="ir.ui.view">
			<field name="name">Name</field>
			<field name="model">loyalty.rule</field>
			<field name="arch" type="xml">
				<form string="Loyalty Rules Form">
					<sheet>
						<group>
							<group>
								<field name="name" string="Loyalty Rule"/>
								<field name="is_active"/>
							</group>
							<group>
								<field name="start_date"/>
								<field name="end_date"/>
							</group>
						</group>
						<notebook>
							<page string="Points Calculation">
								<group string="Loyalty Basic">
										<field name="loyalty_basis" string = "On The Basis" class="oe_inline"/>
								</group>
								<group string="Point Details" attrs="{'invisible':[('loyalty_basis', '=','product category')]}">
										<field name="min_purchase"/>
										<field name="point_unit"/>
										<field name="purchase_unit_per_point"/>
								</group>
							</page>
							<page string = "Redemption Calculation">

								<field name="redemption_ids">
									<form string="Redemption Rules">
										<group>
											<group>
												<field name="redemption_rule_name" string ="Redemptiomn Rule"/>
												<field name="is_active" string='Active'/>
											</group>
											<group>
												<field name="point_start_margin" string="Points between"/>
												<field name="point_end_margin" string = "and"/>
												<field name="reward_point_unit" string = ":1 Reward point ="/>
											</group>
										</group>

									</form>
									<tree>
										<field name="redemption_rule_name" string ="Redemptiomn Rule"/>
										<field name="is_active" string='Active'/>
										<field name="point_start_margin" string="Points between"/>
										<field name="point_end_margin" string = "and"/>
										<field name="reward_point_unit" string = "Reward point"/>
									</tree>
								</field>
							</page>
						</notebook>
					</sheet>
					
				</form>
			</field>
		</record>
		<!-- Your Tree View Definition -->
		<record  id="rules_tree_view" model="ir.ui.view">
			<field name="name">Name</field>
			<field name="model">loyalty.rule</field>
			<field name="priority" eval="16"/>
			<field name="arch" type="xml">
				<tree string="Loyalty Rules Tree">
					<field name="name" string="Loyalty Product"/>
					<field name="start_date" string="Start Date"/>
					<field name="end_date" string="End Date"/>
					<field name="is_active" string = "Status"/>
					<field name="loyalty_basis" string = "Loyalty Basis"/>
				</tree>
			</field>
		</record>

		<record id="rules_menu_action_123" model="ir.actions.act_window">
			<field name="name">Loyalty Rule</field>
			<field name="res_model">loyalty.rule</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<menuitem name="Loyalty Management" id="loyalty_config" parent = "point_of_sale.menu_point_config_product"/>
		
		<menuitem name="Loyalty Rules" id="rules_menu_action000002" action="rules_menu_action_123"
			parent ="loyalty_config"/>
		
		<!--<menuitem name="rules" id="rules" action="rules_menu_action_123"/>-->
	</data>
</openerp>