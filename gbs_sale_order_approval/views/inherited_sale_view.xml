<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="customized_sale_order_form_view" model="ir.ui.view">
            <field name="name">customized_sale_order_form</field>
            <field name="model">sale.order</field>
            <field name="inherit_id" ref="sale.view_order_form"/>
            <field name="arch" type="xml">
                <data>
                    <header>
                        <button name="action_submit"
                                groups="gbs_application_group.group_head_sale,gbs_application_group.group_head_account,gbs_application_group.group_cxo"
                                attrs="{'invisible': [('state','in',('validate','sent','done','cancel','sale'))]}"
                                type="object"
                                string="Submit Quotation"/>
                        <button name="action_validate"
                                groups="gbs_application_group.group_head_account,gbs_application_group.group_cxo"
                                attrs="{'invisible': [('state','in',('draft','sent','done','submit_quotation','cancel','sale'))]}"
                                states="submit_quotation"
                                type="object"
                                string="Validate" />
                    </header>

                    <!-- Conform Sale 1 -->
                    <xpath expr="//button[@name='action_confirm' and @states='draft']" position="replace">
                         <button name="action_confirm"
                                 attrs="{'invisible':['|', ('double_validation','=',True),('state','in',('draft','validate','done','cancel','sale'))]}"
                                 string="Confirm Sale1"
                                 groups="gbs_application_group.group_head_sale,gbs_application_group.group_head_account"
                                 type="object"
                                 class="btn-primary o_sale_confirm"/>
                    </xpath>

                    <!--Approve Sale-->
                    <xpath expr="//button[@name='action_confirm' and @states='sent']" position="replace">
                        <button name="action_confirm" states="sent"
                                groups="gbs_application_group.group_cxo"
                                attrs="{'invisible': ['|', ('double_validation','=',False), ('state','in',('draft','submit_quotation','validate','sale','done'))]}   "
                                string="Approve Sale"
                                class="btn-primary o_sale_confirm"
                                type="object"/>
                    </xpath>

                    <xpath expr="//button[@name='action_quotation_send' and @states='draft']" position="replace">
                        <button name="action_quotation_send"
                                groups="gbs_application_group.group_head_sale,gbs_application_group.group_head_account,gbs_application_group.group_cxo"
                                string="Send by Email" type="object" states="draft,submit_quotation,validate" class="btn-primary"/>
                    </xpath>

                    <xpath expr="//button[@name='print_quotation' and @states='draft']" position="replace">
                           <button name="print_quotation"
                                groups="gbs_application_group.group_head_sale,gbs_application_group.group_head_account,gbs_application_group.group_cxo"
                                string="Print" type="object" states="draft,submit_quotation,validate" class="btn-primary"/>
                    </xpath>

                    <xpath expr="//button[@name='action_cancel']" position="replace">
                        <button name="action_cancel" states="draft,validate,sent,sale" type="object" string="Cancel"/>
                    </xpath>

                    <xpath expr="//button[@name='action_draft']" position="replace">
                        <button name="action_draft" states="cancel" type="object" string="Set to Quotation"/>
                    </xpath>

                    <xpath expr="//button[@name='action_done']" position="replace">
                        <button name="action_done" type="object" string="Lock" states="sale"
                        help="If the sale is locked, you can not modify it anymore. However, you will still be able to invoice or deliver."/>
                    </xpath>

                    <xpath expr="//field[@name='state']" position="replace">
                        <field name="state" widget="statusbar" statusbar_visible="draft,submit_quotation,sent,sale"/>
                    </xpath>

                    <xpath expr="//group/group/field[@name='payment_term_id']" position="after">
                        <field name="credit_sales_or_lc"/>
                    </xpath>

                    <xpath expr="//group/group/field[@name='payment_term_id']" position="before">
                        <field name="double_validation" invisible="1"/>
                    </xpath>

                </data>
            </field>
        </record>

        <!-- Add inherited menu here-->
        <!--<menuitem name="Sales" id="sales_team.menu_base_partner" />-->

         <!--<menuitem action="sale.action_orders"-->
            <!--id="menu_sale_order" parent="sales_team.menu_sales" sequence="12"-->
            <!--groups="gbs_application_group.group_head_sale,gbs_application_group.group_head_account,gbs_application_group.group_cxo"/>-->

    </data>
</odoo>