<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <menuitem id="menu_pf_report" name="PF Report"
                  parent="hr_payslip_monthly_report.menu_hr_payslip_reports" action="action_provident_fund_wizard"
                  groups="hr.group_hr_manager" sequence="11"/>
        <menuitem
            id="hr_payroll.menu_hr_salary_rule_category_tree_view"
            action="hr_payroll.action_hr_salary_rule_category_tree_view"
            parent="hr_payroll.menu_hr_payroll_configuration"
            sequence="12"
            groups="base.group_no_one,hr_payroll.group_hr_payroll_manager" />

        <menuitem
            id="hr_payroll.menu_hr_salary_rule_category"
            action="hr_payroll.action_hr_salary_rule_category"
            parent="hr_payroll.menu_hr_payroll_configuration"
            sequence="11"
            groups="base.group_no_one,hr_payroll.group_hr_payroll_manager"/>

        <record id="hr_payroll.menu_hr_payroll_structure_view" model="ir.ui.menu">
            <field name="groups_id" eval="[(4,ref('hr_payroll.group_hr_payroll_manager'))]"/>
        </record>

        <record id="hr_payroll.menu_hr_payroll_structure_tree" model="ir.ui.menu">
            <field name="groups_id" eval="[(4,ref('hr_payroll.group_hr_payroll_manager'))]"/>
        </record>

        <record id="inherited_hr_payslip_run_views" model="ir.ui.view">
            <field name="name">Inherited HR Payslip Run</field>
            <field name="model">hr.payslip.run</field>
            <field name="inherit_id" ref="hr_payroll.hr_payslip_run_form"/>
            <field name="arch" type="xml">
                <xpath expr="/form/header/button" position="replace">
                    <button name="confirm_payslip" type="object" string="Close" states="draft" class="oe_highlight"/>
                </xpath>
                <xpath expr="//label[@for='name']" position="replace">
                    <label for="name" string="Description" class="oe_edit_only"/>
                </xpath>
                <xpath expr="//button[@name='draft_payslip_run']" position="replace">
                    <button string="Set to Draft" name="draft_payslip_run" type="object" invisible = '1' states="close" />
                </xpath>
                 <xpath expr="//header/button[@name='draft_payslip_run']" position="after">
                        <button string="Print Report" type="action" context="{'available_advice':True}"
                                name="%(action_salary_wizard)d" attrs="{'invisible':[('type', '!=', '0'), ('type', '!=', '1')]}"/>
                    </xpath>
            </field>
        </record>

        <record id="email_hr_payslip_run_view" model="ir.ui.view">
            <field name="name">Inherited HR Payslip Batches</field>
            <field name="model">hr.payslip.run</field>
            <field name="inherit_id" ref="hr_payroll.hr_payslip_run_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='credit_note']" position="after">
                    <field name="send_email"/>
                </xpath>
                <xpath expr="//field[@name='credit_note']" position="before">
                    <field name="total_payable"/>
                </xpath>
            </field>
        </record>

        <record id="hr_payslip_run_form_inherit_view" model="ir.ui.view">
            <field name="name">hr.payslip.run.form.inherit</field>
            <field name="model">hr.payslip.run</field>
            <field name="inherit_id" ref="l10n_in_hr_payroll.hr_payslip_run_form_inherit"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='create_advice']" position="replace">
                    <button name="create_advice" string="Create Advice" type="object" states="draft" />
                </xpath>
            </field>
        </record>

        <record id="inherited_view_hr_bank_advice_form" model="ir.ui.view">
            <field name="name">Inherited HR Payslip Advice</field>
            <field name="model">hr.payroll.advice</field>
            <field name="inherit_id" ref="l10n_in_hr_payroll.view_hr_bank_advice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//group[1]" position="replace">
                    <group>
                        <group>
                            <field name="name" string="Name"/>
                            <field name="date" string="Date"/>
                        </group>
                        <group>
                            <field name="bank_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
                            <field name="bank_acc_id" options="{'no_quick_create':True,'no_create_edit':True,'no_open': True}"/>
                            <field name="number"/>
                        </group>
                    </group>
                </xpath>
            </field>
        </record>
    </data>
</odoo>