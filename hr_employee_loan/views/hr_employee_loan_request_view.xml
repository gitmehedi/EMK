<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="hr_employee_loan_request_form" model="ir.ui.view">
			<field name="name">hr.employee.loan.request.form</field>
			<field name="model">hr.employee.loan.request</field>
			<field name="type">form</field>
			<field name="priority" eval="16"/>
			<field name="arch" type="xml">
				<form string="Employee Loan Requests">
					<header>
						<button name="submit" type="object" string="Submit"
							 class="oe_highlight" />	
							
						<button name="action_done"
							string="Submission" class="oe_highlight" states="Draft" type="action"
							domain="[('state','=','received')]" />

						<button name="action_done" type="object" string="Accepted"
							states="Applied" class="oe_highlight" />
						
						<button name="action_done" type="object" string="Accepted"
							states="Approved" class="oe_highlight" />	
							
						<field name="state" widget="statusbar" />
					</header>
					<sheet>
					Employee Name
					<h2><field name="employee_id" /></h2>
					Number
					<h2><field name="name" /></h2>
					<group>
						<group>
							<field name="applied_date_ids" />
							<field name="loan_type_ids" />
						</group>
						<group>
							<field name="approved_date_ids" />
							<field name="disbursement_date_ids" />
							<field name="department_ids" />
							<field name="company_id" readonly="1" groups="base.group_multi_company"/>
							<field name="user_id" />	
						</group>
					</group>
					<notebook position="inside">
							<page string="General">
								<group col="4">
                                    <field name="principal_amount_ids"/>
                                    <field name="is_interest_payble_ids"/>
                                    <field name="interst_mode_ids"/>
                                    <field name="duration_ids"/>
                                    <field name="rate_ids" />
                                </group>	
							</page>
							<page string="Proofs">
								<field name="employee_loan_proofs_ids" />	
							</page>
							<page string="Policies">
								<field name="employee_loan_policies_ids" />		
							</page>
							<page string="Notes">
								<field name="notes" />	
						</page>
					</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<record id="hr_employee_loan_request_tree" model="ir.ui.view">
			<field name="name">hr.employee.loan.request.tree</field>
			<field name="model">hr.employee.loan.request</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="Employee Loan Requests">
					<field name="name" />
					<field name="employee_id" />
					<field name="applied_date_ids" />
					<field name="loan_type_ids" />
					<field name="approved_date_ids" />
					<field name="disbursement_date_ids" />
					<field name="department_ids" />
					<field name="company_id" readonly="1" groups="base.group_multi_company"/>
					<field name="user_id" />
				</tree>
			</field>
		</record>
		
        <record model="ir.actions.act_window" id="hr_employee_loan_request_action">
            <field name="name">Loan Requests</field>
            <field name="res_model">hr.employee.loan.request</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="loan_request_menu" name="Loan Requests" parent="loans_menu" sequence="3"
                  action="hr_employee_loan_request_action"/>   
    </data>
</odoo>