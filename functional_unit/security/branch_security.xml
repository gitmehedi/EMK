<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>

    <record id="res_branch_user_rule" model="ir.rule">
        <field name="name">Functional Unit User</field>
        <field name="model_id" ref="model_res_branch"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[('id','=',user.branch_id.id)]</field>
    </record>




	<!-- Security restriction for private addresses -->
    <record id="base.res_partner_rule_private_employee" model="ir.rule">
        <field name="name">res.partner.rule.private.employee</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="domain_force">['|',('type', '!=', 'private'), ('type', '=', False), '|',('branch_id','=',user.branch_id.id), ('branch_id','in',user.branch_ids.ids)]</field>
        <field name="perm_read" eval="True"/>
        <field name="perm_write" eval="False"/>
        <field name="perm_create" eval="False"/>
        <field name="perm_unlink" eval="False"/>
    </record>



    <record id="partner_branch_rule" model="ir.rule">
        <field name="name">Partner Functional Unit</field>
        <field name="model_id" ref="model_res_partner"/>
        <field name="domain_force">['|', '|', ('branch_id','=',False),('branch_id','=',user.branch_id.id), ('branch_id','in',user.branch_ids.ids)]</field>
    </record>



    <record id="account_invoice_branch_rule" model="ir.rule">
        <field name="name">Account Functional Unit</field>
        <field name="model_id" ref="model_account_invoice"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>

    </record>

    <record id="picking_branch_rule" model="ir.rule">
        <field name="name">Picking Functional Unit</field>
        <field name="model_id" ref="model_stock_picking"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>
    </record>
    
    <record id="warehouse_branch_rule" model="ir.rule">
        <field name="name">Warehouse Functional Unit</field>
        <field name="model_id" ref="model_stock_warehouse"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>
    </record>
    
    <record id="location_branch_rule" model="ir.rule">
        <field name="name">Location Functional Unit</field>
        <field name="model_id" ref="model_stock_location"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>
    </record>
    
    <record id="picking_type_branch_rule" model="ir.rule">
        <field name="name">Picking Type Functional Unit</field>
        <field name="model_id" ref="stock.model_stock_picking_type"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>
    </record>

    
    <record id="stock_quant_branch_rule" model="ir.rule">
        <field name="name">Stock Quant Functional Unit</field>
        <field name="model_id" ref="stock.model_stock_quant"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('location_id.branch_id','=',False),('location_id.branch_id','=',user.branch_id.id)]</field>
    </record>


    <record id="warehouse_branch_rule" model="ir.rule">
        <field name="name">Warehouse Functional Unit</field>
        <field name="model_id" ref="model_stock_warehouse"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>
    </record>

    <record id="product_template_branch_rule" model="ir.rule">
        <field name="name">Product Template Functional Unit</field>
        <field name="model_id" ref="model_product_template"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('branch_id','=',False),('branch_id','=',user.branch_id.id)]</field>
    </record>
    
    <record id="product_product_branch_rule" model="ir.rule">
        <field name="name">Product Product Functional Unit</field>
        <field name="model_id" ref="product.model_product_product"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('product_tmpl_id.branch_id','=',False),('product_tmpl_id.branch_id','=',user.branch_id.id)]</field>
    </record>
    
</data>

</odoo>
